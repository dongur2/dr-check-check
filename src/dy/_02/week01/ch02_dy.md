# 02 이상한 나라의 객체

- 객체 = **상태(state) + 행동(behavior) + 식별자(identity)** 를 지닌 실체
  - 상태 [프로퍼티(property)]
    - 발생한 행동 과정과 결과를 단순하게 기술 → 현재를 기반으로 객체의 행동 방식 이해
    - 복잡성 완화 & 인지 과부화 감소
    - <u>객체의 상태(프로퍼티) = 단순값(속성attribute) + 객체(링크link)</u>
    - 상태는 **행동**의 결과로 초래된 부수효과를 쉽게 표현하기 위해 도입된 추상적인 개념
  - **행동**
    - 다른 객체가 <u>간접적으로</u> 객체의 상태를 변경
    - 객체지향: **상태**와 **상태를 조작하기 위한 행동**을 하나로 묶기
      - 객체는 <u>스스로의 행동에 의해서만 상태 변경 </u>보장
    - 객체의 행동 → 객체의 상태를 변화
    - 객체의 상태 → 객체의 행동 결과
  - 식별자
    - 어떤 객체를 다른 객체와 구분하는 데 사용하는 객체의 프로퍼티
      - 객체는 상태가 변경되기 때문 (가변적)
    - 동일성 검사
    - 값과 객체의 차이
      - 식별자를 지닌 전통적인 의미의 객체: 참조 객체(reference object), 엔티티(entity)
      - 식별자가 없는 값 객체(value object)

<br>

📌 **캡슐화**

- `drinkBeverage()` → 앨리스 → `drunken(quantity)` → 음료
  - 앨리스의 키 감소 / 음료 양 감소 — 상태 변경 예상 불가능
  - **메시지 송신자는 메시지 수신자의 상태 변경에 대해 인지 불가**
- 객체는 상태를 캡슐 안에 감추고 외부에 노출하지 않음
  - 외부에 노출 / 외부에서 객체에 접근: 행동

⇒ 객체의 자율성 증가 & 협력의 단순화, 유연화

</aside>

~~객체 설계시 그 객체에게 필요한 상태가 무엇인지 찾고 추가 → 상태 변경/조회 행동 고민~~

1. 상태 선결정 → *캡슐화 저해*: 상태가 공용 인터페이스에 노출될 확률 상승
2. *객체 고립*:  애플리케이션 문맥 내 타객체와 협력 필요
3. 객체의 *재사용성 저하*: 재사용성 - 다양한 협력에 참여 가능한 능력

<br>

행동에 초점!

> **행동이 상태를 결정한다**

“객체는 다른 객체와 협력하기 위해 존재한다.”

애플리케이션에 **필요한 협력을 생각하고 협력에 참여하는 데 필요한 행동 생각 → 행동 수행할 객체 선택**

→ 행동에 필요한 정보 고려 → 필요한 상태 결정

⇒ 책임-주도 설계(Responsibility-Driven Design; RDD)

: 협력이라는 문맥 안에서 객체의 행동을 생각 ⇒ 응집도 높고 재사용 가능한 객체