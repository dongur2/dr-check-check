## 협력하는 객체들의 공동체

---

실세계 객체와 소프트웨어 객체 간의 대응
⇒ 유연하고 실용적인 관점에서 객체지향 분석, 설계를 설명하기에 적합하지 않음

(그럼에도 불구하고 객체 지향의 다양한 측면을 이해하고 학습하는 데에 매우 효과적)

> '캡슐화(encapsulation)'
> '자율성(autonomous)'
> '메시지(message)'
> '협력(collaboration)'
> '연결완전성(seamlessness)'

### 협력하는 사람들

- 객체지향에서 가장 중요한 개념 세 가지
  - 역할(role)
    - 어떤 협력에 참여하는 특정한 사람이 협력 안에서 차지하는 책임이나 임무
  - 책임(responsibility)
    - 역할이라는 단어는 의미적으로 책임이라는 개념을 내포
  - 협력(collaboration)
    - 요청(request)
      - 한 사람에 대한 요청은 또 다른 사람에 대한 요청을 유발(연쇄적 발생)
      - 손님 → 캐셔 → 바리스타
    - 응답(response)
      - 요청과 마찬가지로 연쇄적 발생(요청과 반대 방향으로)

<aside>
💡 **사람들이 협력을 위해 특정한 역할을 맡고 역할에 적합한 책임을 수행**

- 여러 사람이 동일한 역할을 수행할 수 있다
- 그냥 해당 역할에 따르는 책임을 수행할 수 있는 사람이면 됨
- 역할은 대체 가능성을 의미한다
- 역할은 대체 가능하다(substitutable)
- 책임을 수행하는 방법은 자율적으로 선택할 수 있다
- 동일한 요청을 받더라도 수행하는 사람들마다 서로 다른 방식으로 요청을 처리 가능
  ⇒ **다형성(polymorphism)**
- 한 사람이 동시에 여러 역할을 수행할 수 있다
</aside>

### 역할, 책임, 협력

- 기능을 구현하기 위해 협력하는 객체들
  - 앞에서 설명한 과정을 객체지향 용어로 대응시킨다면
    - 사람 → **객체**
    - 에이전트의 요청 → **메시지**
    - 에이전트가 요청을 처리하는 방법 → **메서드**
- 역할과 책임을 수행하며 협력하는 객체들
  - 협력의 핵심: 특정한 책임을 수행하는 역할들 간의 연쇄적인 요청과 응답을 통해 목표를 달성
  - 객체는 자신에게 주어진 역할과 책임을 다하는 동시에 다른 객체들과 적극적으로 협력
    ⇒ 애플리케이션 기능 구현을 위해
- **객체에게 적절한 책임을 할당하는 것**
  - 역할은 관련성 높은 책임의 집합

### 협력 속에 사는 객체

- 객체는 애플리케이션의 기능을 구현하기 위해 존재
- 협력이 얼마나 조화를 이루는 지, 그 품질을 결정하는 것은 곧 객체의 품질
  1. 협력적
     1. 단, 단순히 명령에 복종하는 수동적인 존재 X
     2. 요청에 어떻게 응답할지 스스로 결정
  2. 자율적
     1. 요청에 대해 스스로 판단하고 행동
- 상태와 행동을 함께 지닌 자율적인 객체
  - 객체 = 상태(state) + 행동(behavior)
  - 어떤 행동을 하기 위해서는 그에 필요한 상태도 함께 지니고 있어야 함
  - 객체의 자율성 → 객체의 내부와 외부를 명확하게 구분하는 것으로부터 나온다
    - 객체의 내부: 외부의 간섭을 철저히 차단
    - 객체의 외부: 접근이 허락된 수단을 통해서만 다른 객체와 소통
      ⇒ 다른 객체가 무엇(what)을 수행하는지는 알 수 있지만,
      어떻게(how) 수행하는지에 대해서는 알 수 없음
    - **데이터와 프로세스를 객체라는 하나의 틀 안에 함께 묶어 놓음으로써 객체의 자율성 보장**
      (재사용 용이, 유지보수 쉬움)
- 협력과 메시지
  - 메시지: 객체지향 세계에서 유일한 의사소통 수단
  - 메시지 전송: 요청 보내기
    - 송신자(sender)
  - 메시지 수신: 요청 받기
    - 수신자(receiver)
- 메서드와 자율성
  - 메서드(method): 객체가 수신된 메시지를 처리하는 방법
  - 메시지를 수신한 객체가 ‘실행 시간’에 메서드를 선택할 수 있음(→객체지향 언어의 특징)
  - **캡슐화(encapsulation)**
    외부의 요청이 무엇인지를 표현하는 메시지와
    요청을 처리하기 위한 구체적인 방법인 메서드를 분리하는 것
    ⇒ 객체의 자율성 up

### 객체지향의 본질

- 클래스(class)
  - 클래스 중심의 객체지향 이해는 경계해야 함
  - 지나치게 클래스를 강조하는 프로그래밍 언어적 관점은 객체의 캡슐화를 저해하고 클래스를 서로 강하게 결합시킴
  - 객체들의 협력 관계를 코드로 옮기는 도구에 불과함
  - 협력에 참여하는 객체를 만드는 데 필요한 구현 메커니즘일 뿐임
