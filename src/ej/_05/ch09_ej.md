# 9장 가상 메모리 관리

## 01 요구 페이지

### 1. 요구 페이징의 개요

1. 개념
- 사용자가 요구할 때 해당 페이지를 메모리로 가져오는 것
- 미리 가져오기: 앞으로 필요할 것이라고 예상되는 페이지를 미리 가져오기

## 02 페이지 교체 알고리즘

### 1. 페이지 교제 알고리즘의 개요

1. 종류
- 무작위
- FIFO
- LRU
- LFU
- NUR
- FIFO 변형 알고리즘

### 3. FIFO 페이지 교체 알고리즘

- 선입선출 페이지 교체 알고리즘
- 큐로 구현
- 먼저 들어온 페이지를 항상 스왑 영역으로 옮긴다

### 5. LRU 페이지 교체 알고리즘

- 최근 최소 사용 페이지 교체 알고리즘
- 페이지에 접근한지 가장 오래된 페이지를 교체한다
    - 페이지에 읽기, 쓰기 실행과 같은 연산이 이루어지는 시간을 기준으로 이루어짐
- 카운터 사용 혹은 참조 비트 시프트 방식으로 구현하기도 하나, 메모리가 낭비되는 단점이 있다

### 6. LFU 페이지 교체 알고리즘

- 최소 빈도 사용 알고리즘
- 낭비되는 메모리가 공간이 많다는 단점

### 7. NUR 페이지 교체 알고리즘

- 최근 미사용 페이지 교체 알고리즘
- LRU, LFU와 거의 비슷하나, 공간 낭비 문제 해결
- 메모리도 적게 사용하고, 쉽게 구현이 가능하여 가장 많이 사용

### 8. FIFO 변형 알고리즘

1. 2차 기회 페이지 알고리즘
- FIFO 변형 알고리즘은 순서만 고려하고, 자주 사용하는 페이지를 고려하지 않아서 성능이 떨어짐
- 변형 알고리즘은, FIFO 기본 + 페이지에 접근할 때마다 순서의 변화를 주어 성능 향상
1. 시계 알고리즘
- 원형 큐를 사용
- 잘 모르겟음

## 03 스레싱과 프레임 할당

### 1. 스레싱

1. 개념
- 멈춤 상태
- 하드디스크의 입출력이 너무 많아서 잦은 페이지 부재로 작업이 멈춤 상태
2. 스레싱과 프레임 할당
- 실행 중인 여러 프로세스에 프레임을 얼마나 누어 주느냐에 따라 성능이 달라진다
- 정적 할당과 동적 할당으로 나눌 수 있다

### 2. 정적 할당

- 프로세스 실행 초기에 프레임을 나누어 주고, 크기를 고정한 방식
1. 균등 할당
- 프로세스 크기에 상관 없이 프레임을 모든 프로세스에 동일하게 할당
- 크기가 큰 프로세스의 경우 페이지 부재가 빈번하게 발생
2. 비례 할당
- 크기에 비례하여 프레임 할당
- 프레임을 유동적으로 반영하지 못한다는 단점
- 사용하지 않을 메모리를 미리 확보하여 공간을 낭비한다는 단점

### 3. 동적 할당

- 수시로 요청을 수용하는 방식
1. 작업 집합 모델
- 가장 최근에 접근한 프레임이 이후에도 참조될 가능성이 높다는 가정에서 출발
- 작업 집합 윈도우의 크기에 따라 프로세스의 실행 성능이 달라진다
- 어떤 프레임을 물리 메모리에 유지해야 하는지는 알 수 있으나, 프레임을 얼마나 할당해야 하는지는 모른다는 단점
2. 페이지 부재 빈도
- 페이지 부재 횟수를 기록하여, 비율을 개선하는 방식으로 상한선과 하한선을 설정
