# 4장 CPU 스케줄링

스케줄링 단계 | 프로세스 우선순위 | 선점형/비선점형 스케줄링 | 스케줄링 알고리즘

## 01 스케줄링의 개요

### 1. 레스토랑 관리자의 스케줄링

1. 레스토랑 관리자 = 스케줄링
2. 상태 변화를 조정하는 역할

### 2. CPU 스케줄링

1. 고수준 스케줄링
- 전체 시스템의 부하에 따라 승인할지 안 할지의 스케줄링 → 다른 의미 : 승인 스케줄링
- 즉, 시스템 내의 전체 작업 수를 조절하는 것

2. 저수준 스케줄링
- 예를 들면 미세하게 요리 제공 순서 결정하는 것

3. 중간 수준 스케줄링
- 중지와 활성화로 전체 시스템의 활성화된 프로세스 수를 조절하여 과부하를 막기

### 3. 스케줄링의 목적

1. 프로세스가 공평하게 작업하도록 하는 것
2. 목적
- 공평성
- 효율성
- 안정성
- 확장성
- 반응 시간 보장
- 무한 연기 방지

## 02 스케줄링 시 고려 사항

### 1. 선점형 스케줄링과 비선점형 스케줄링

1. 선점형 스케줄링
- 실행 상태에서 강제로 종료하고 새로운 작업 시행 가능
- CPU 독점이 불가해서 대화형이나 시분할 시스템에 적합
- 문맥 교환과 같은 낭비가 있다
2. 비선점형 스케줄링
- 작업 완료될 때까지 기다렸다가 다른 작업 불가 → 프로세스 처리율이 떨어진다
- CPU 스케줄러의 작업량이 적고 문맥 교환의 오버헤드가 적다
    - 오버헤드: 어떤 처리를 하기 위해 들어가는 간접적인 처리 시간, 메모리
- 일괄형 시스템에 적합

### 2. 프로세스 우선순위

1. 커널 프로세스의 우선순위가 일반 프로세스보다 높다
2. 일발 프로세스의 우선순위는 사용자가 조절 가능
3. 프로세스의 우선순위를 낮추어야 할 때도 있다
- 프로세스가 엄청 많아서 작업이 느려진다면, 압축 파일이나 디스크 백업과 같이 천천히 해도 되는 프로세스 우선순위 낮추기

### 3. CPU 집중 프로세스와 입출력 집중 프로세스

1. 사이클 훔치기
- 입출력 집중 프로세스가 CPU 집중 프로세스보다 실행 상태에 먼저 들어가는 경우

### 4. 전면 프로세스와 후면 프로세스

1. 전면 프로세스
- 사용자와 상호작용이 있는 프로세스
2. 후면 프로세스
- 사용자와 상호 작용이 없는 프로세스

## 03 다중 큐

### 1. 준비 상태의 다중 큐

1. 고정 우선순위 방식
2. 변동 우선순위 방식

### 2. 대기 상태의 다중 큐

- 같은 프로세스끼리 모여 있느 ㄴ대기 큐

## 04 스케줄링 알고리즘

선점형 스케줄링과 비선점형 스케줄링

> 비선점형 스케줄링
### 1. 스케줄링 알고리즘의 선택 기준

- CPU 사용률
- 처리량: 단위 시간당 작업을 마친 프로세스의 수. 클수록 좋다
- 대기 시간: 작업을 요청한 프로세스가 작업을 시작하기 전까지 대기하는 시간. 짧을수록 좋다.
- 응답 시간: 사용자의 요구에 얼마 만에 반응하는지가 중요. 짧을수록 좋다.
- 반환 시간: 생성 후 종료되어 반환되는 시간.

### 2. FCFS 스케줄링

1. 동작 방식
- 비선점형 방식. 선입선출 스케줄링

### 3. SJF 스케줄링

1. 동작 방식
- 실행 시간이 가장 짧은 작업부터 CPU를 할당하는 비선점형 방식

### 4. HRN 스케줄링

1. 동작 방식
- SJF 스케줄링에서 발생할 수 있는 아사 현상을 해결하고자 나옴
- 비선점형 알고리즘, 최고 응답률 우선 스케줄링

> 선점형 스케줄링
### 5. 라운드 로빈 스케줄링
1. 동작 방식
- 한 프로세스가 할당받은 시간 동안 작업 하다가 완료하지 못하면, 준비 큐의 맨뒤로 가서 자기 차례 기다리는 방식
- 선점형 알고리즘 중 가장 단순하고 대표적인 방식
- 타임 슬라이스 존재: 각 프로세스마다 CPU를 사용할 수 있는 최대 시간
### 6. SRT 우선 스케줄링
1. 동작 방식
- 최소 잔류 시간 우선 스케줄링
- 선점형 버전
### 7. 우선 순위 스케줄링
1. 동작 방식과 성능
- 비선점형과 선점형 방식 모두 사용 가능
- 우선순위를 반영한 스케줄링
- 고정 우선순위 알고리즘 / 변동 우선순위 알고리즘
### 8. 다단계 큐 스케줄링
- 고정형 우선순위로 진행
- 우선순위가 높은 상위 큐 프로세스가 끝나기 전까지 하위 우선순위 작업 불가
### 9. 다단계 피드백 큐 스케줄링
- 위 스케줄링의 단점을 보완하고자 나타남
- CPU 사용 후, 프로세스의 우선순위가 낮아짐 → 원래 큐로 돌아가지 않고 우선순위가 하나 낮은 큐의 끝으로 들어간다.
- 우선순위가 낮을수록, 타임 슬라이스의 크기가 커진다는 특징이 있다
- 오늘날 운영체제가 CPU 스케줄링 할 때 일반적으로 사용하는 방식.
- 변동 우선순위 알고리즘의 전형적인 예.